@using System.Linq;
@{

    var claimsIdentity = (System.Security.Claims.ClaimsIdentity)User.Identity;

    var userRole = claimsIdentity.Claims.ToList()[2].Value;
    var userAccess = claimsIdentity.Claims.ToList()[3].Value;
}

<link href="~/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
<div class="topnav">
    <div class="container-fluid">
        <nav class="navbar navbar-light navbar-expand-lg topnav-menu">
            <div class="collapse navbar-collapse" id="topnav-menu-content">
                <ul class="navbar-nav">

                    @if (!userAccess.Contains("Runner") && !userAccess.Contains("Picker") && !userAccess.Contains("Boxer"))
                    {
                        <li class="nav-item">
                            <a class="nav-link" href="/home/index">
                                <i class="fe-airplay me-1"></i> Dashboard
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-apps" role="button"
                           data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fe-shopping-bag"></i>&nbsp;&nbsp; Orders <div class="arrow-down"></div>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="topnav-apps">
                                <div class="dropdown">
                                    <a class="dropdown-item" asp-action="ViewOrdersLazada" asp-controller="Token">
                                        <span class="logo-lg">
                                            <img src="~/img/laz.png" alt="" height="30" />
                                        </span>Lazada
                                        @*<i class="fas fa-shopping-cart me-1"></i>*@

                                    </a>
                                </div>
                                <div class="dropdown">
                                    <a class="dropdown-item" asp-action="ViewShopeeOrder" asp-controller="Shopee">
                                        <img src="~/img/shopee-logo-40482.png" alt="" height="25" /> @*<i class="fas fa-shopping-bag me-1"></i>*@ &nbsp;&nbsp; Shopee
                                    </a>
                                </div>

                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/DispatchOrder/Index">
                                <i class="fe-truck me-1"></i> Dispatch Orders
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/NOFItems/ViewNOFItems">
                                <i class="fe-info me-1"></i> NOF
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/DiscrepancyCenter/DiscrepancyCenter">
                                <i class="fe-alert-triangle me-1"></i> Discrepancy Center &nbsp;
                                <span class="badge bg-danger float-end">
                                    <i id="spanCount">0</i>&nbsp;

                                </span>
                            </a>
                        </li>

                        @*<li class="nav-item">
                            <a class="nav-link" href="/ExceptionReport/ExceptionReport">
                                <i class="fe-printer me-1"></i>Exception Report
                            </a>
                        </li>
*@


                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-apps" role="button"
                           data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="bi bi-clipboard"></i>&nbsp;&nbsp; Reports <div class="arrow-down"></div>

                            </a>
                            <div class="dropdown-menu" aria-labelledby="topnav-apps">
                                <div class="dropdown">


                                    <a class="dropdown-item" href="/ExceptionReport/ExceptionReport">
                                        <i class="fas fa-calendar me-1"></i> Exception NOF/NIB
                                    </a>
                                    <a class="dropdown-item" href="/ExceptionReport/ExceptionReportDiscrepancy">
                                        <i class="fas fa-calendar me-1"></i> Discrepancy Report
                                    </a>
                                    <a class="dropdown-item" href="/CancelledReport/CancelledReport">
                                        <i class="fas fa-calendar me-1"></i> Cancelled Orders
                                    </a>
                                    <a class="dropdown-item" href="/ReprintWaybillOM/ReprintWaybillOM">
                                        <i class="bi bi-printer me-1"></i> Re-Print Waybill
                                    </a>
                                </div>


                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-apps" role="button"
                           data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fe-settings me-1"></i> Settings <div class="arrow-down"></div>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="topnav-apps">
                                <div class="row">
                                    <div class="dropdown">
                                        <a class="dropdown-item" asp-action="CreateUser" asp-controller="User">
                                            <i class="fas fa-walking me-1"></i> User Maintenance
                                        </a>
                                        <a class="dropdown-item" asp-action="AddUser" asp-controller="User">
                                            <i class="fas fa-house-user me-1"></i> OMS User Access
                                        </a>

                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-apps" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fe-link me-1"></i> Token <div class="arrow-down"></div>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="topnav-apps">
                                <div class="row">
                                    <div class="dropdown">
                                        <a class="dropdown-item" asp-action="VerifyToken" asp-controller="Token">
                                            <i class="fas fa-shopping-cart me-1"></i> Lazada
                                        </a>
                                        <a class="dropdown-item" asp-action="GetAuth" asp-controller="Shopee">
                                            <i class="fas fa-shopping-bag me-1"></i> Shopee
                                        </a>

                                    </div>
                                </div>
                            </div>
                        </li>
                    }



                </ul> <!-- end navbar-->
            </div> <!-- end .collapsed-->
        </nav>
    </div> <!-- end container-fluid -->
</div>

<script src="~/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="~/scripts/home.js"></script>